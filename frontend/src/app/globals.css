@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * {
    @apply border-studio-border;
  }
  
  html {
    @apply font-ui;
  }
  
  body {
    @apply bg-studio-dark text-studio-text-primary antialiased;
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  }
  
  /* Studio-grade scrollbars */
  ::-webkit-scrollbar {
    @apply w-1.5 h-1.5;
  }
  
  ::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  
  ::-webkit-scrollbar-thumb {
    @apply bg-studio-border rounded-full;
  }
  
  ::-webkit-scrollbar-thumb:hover {
    @apply bg-studio-text-muted/20;
  }
  
  /* Ensure proper scrolling behavior */
  .scroll-container {
    overflow-y: auto;
    overflow-x: hidden;
    scrollbar-width: thin;
    scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
  }
  
  /* Fix for flex containers with scrolling */
  .flex-scroll {
    min-height: 0;
    flex: 1;
  }
  
  /* Film grain overlay */
  body::before {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    opacity: 0.03;
    z-index: 1000;
    background-image: 
      radial-gradient(circle at 25% 25%, #ffffff 1px, transparent 1px),
      radial-gradient(circle at 75% 75%, #ffffff 1px, transparent 1px);
    background-size: 4px 4px;
    animation: grain 8s ease-in-out infinite;
  }
}

@layer components {
  /* CORE COMPONENT SYSTEM */
  
  .studio-panel {
    @apply bg-studio-gray border border-studio-border rounded-studio;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
  
  .studio-panel-elevated {
    @apply bg-studio-light border border-studio-border rounded-studio;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  }
  
  .studio-section {
    @apply studio-panel p-4 space-y-3;
  }
  
  .studio-section-title {
    @apply text-section text-studio-text-primary uppercase tracking-wide;
  }
  
  .studio-label {
    @apply text-label text-studio-text-secondary uppercase tracking-wide;
  }
  
  .studio-button {
    @apply px-4 py-2.5 bg-studio-light hover:bg-studio-cyan/10 text-studio-text-primary rounded-lg transition-all duration-200 font-medium border border-studio-border;
  }
  
  .studio-button:hover {
    @apply border-studio-cyan/30 shadow-lg shadow-studio-cyan/5;
  }
  
  .studio-button-primary {
    @apply px-4 py-2.5 bg-studio-cyan hover:bg-studio-cyan/90 text-studio-dark rounded-lg transition-all duration-200 font-semibold;
  }
  
  .studio-button-primary:hover {
    @apply shadow-lg shadow-studio-cyan/20;
  }
  
  .studio-input {
    @apply bg-studio-light border border-studio-border rounded-lg px-3 py-2.5 text-body text-studio-text-primary placeholder-studio-text-muted focus:outline-none focus:ring-2 focus:ring-studio-cyan/50 focus:border-studio-cyan/50 transition-all duration-200;
  }
  
  .studio-select {
    @apply bg-studio-light border border-studio-border rounded-lg px-3 py-2.5 text-body text-studio-text-primary focus:outline-none focus:ring-2 focus:ring-studio-cyan/50 focus:border-studio-cyan/50 transition-all duration-200 cursor-pointer;
  }
  
  .studio-slider {
    @apply w-full h-2 bg-studio-light rounded-full appearance-none cursor-pointer border border-studio-border;
  }
  
  .studio-slider::-webkit-slider-thumb {
    @apply appearance-none w-5 h-5 bg-studio-cyan rounded-full cursor-pointer border-2 border-studio-dark shadow-lg;
  }
  
  .studio-slider::-moz-range-thumb {
    @apply w-5 h-5 bg-studio-cyan rounded-full cursor-pointer border-2 border-studio-dark shadow-lg;
  }
  
  .studio-toggle {
    @apply relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-studio-cyan/50;
  }
  
  .studio-toggle[data-checked="true"] {
    @apply bg-studio-cyan;
  }
  
  .studio-toggle[data-checked="false"] {
    @apply bg-studio-light border border-studio-border;
  }
  
  .studio-toggle-thumb {
    @apply inline-block h-4 w-4 transform rounded-full bg-studio-text-primary transition-transform duration-200;
  }
  
  .studio-toggle[data-checked="true"] .studio-toggle-thumb {
    @apply translate-x-6;
  }
  
  .studio-toggle[data-checked="false"] .studio-toggle-thumb {
    @apply translate-x-1;
  }
  
  /* JSON Inspector Styles */
  .studio-json {
    @apply font-mono text-numeric bg-studio-dark border border-studio-border rounded-lg p-4;
  }
  
  .studio-json .json-key {
    @apply text-studio-cyan;
  }
  
  .studio-json .json-string {
    @apply text-studio-amber;
  }
  
  .studio-json .json-number {
    @apply text-studio-text-secondary;
  }
  
  .studio-json .json-boolean {
    @apply text-studio-cyan;
  }
  
  /* Canvas Styles */
  .studio-canvas {
    @apply bg-studio-gray border border-studio-border rounded-studio-lg relative overflow-hidden;
    box-shadow: 
      0 0 0 1px rgba(255, 255, 255, 0.03),
      0 8px 32px rgba(0, 0, 0, 0.3),
      inset 0 1px 0 rgba(255, 255, 255, 0.05);
  }
  
  .studio-canvas::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: radial-gradient(ellipse at center, transparent 0%, rgba(0, 0, 0, 0.1) 100%);
    pointer-events: none;
  }
  
  /* Loading States */
  .studio-loading {
    @apply animate-shimmer;
  }
  
  .studio-skeleton {
    @apply bg-studio-light animate-shimmer rounded;
  }
  
  /* Status Badges */
  .studio-badge {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium;
  }
  
  .studio-badge-success {
    @apply studio-badge bg-green-500/10 text-green-400 border border-green-500/20;
  }
  
  .studio-badge-warning {
    @apply studio-badge bg-studio-amber/10 text-studio-amber border border-studio-amber/20;
  }
  
  .studio-badge-error {
    @apply studio-badge bg-red-500/10 text-red-400 border border-red-500/20;
  }
  
  .studio-badge-info {
    @apply studio-badge bg-studio-cyan/10 text-studio-cyan border border-studio-cyan/20;
  }
}